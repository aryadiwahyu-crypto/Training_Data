<script>
    async function loadCSV() {
        const url = "https://raw.githubusercontent.com/aryadiwahyu-crypto/Training_Data/main/training_data.csv";

        const response = await fetch(url);
        const data = await response.text();
        
        const rows = data.trim().split("\n").map(row => row.split(","));
        const headers = rows[0]; 
        const tableBody = document.querySelector("#trainingTable tbody");
        tableBody.innerHTML = "";

        for (let i = 1; i < rows.length; i++) {
            const row = rows[i];
            let tr = "<tr>";

            headers.forEach((col, index) => {
                tr += `<td>${row[index] || "-"}</td>`;
            });

            tr += "</tr>";
            tableBody.innerHTML += tr;
        }
    }

    function searchTable() {
        const input = document.getElementById("searchInput").value.toLowerCase();
        const rows = document.querySelectorAll("#trainingTable tbody tr");

        rows.forEach(row => {
            const nik = row.cells[0].textContent.toLowerCase();
            const nama = row.cells[1].textContent.toLowerCase();
            row.style.display = (nik.includes(input) || nama.includes(input)) ? "" : "none";
        });
    }

    loadCSV();
</script>
